<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>城市下拉选择组件</title>
	<link rel="stylesheet" type="text/css" href="css/city-picker.css">
</head>

<body>
	<div class="city-picker-select"></div>
	<script src="https://cdn.bootcss.com/jquery/1.8.1/jquery.js"></script>
	<script type="text/javascript" src="js/citydata.js"></script>
	<script type="text/javascript" src="js/cityPicker-1.1.2.js"></script>
	<script type="text/javascript">
		$(function () {

			//模拟城市-无联动/无搜索
			var selector = $('#city-picker-selector').cityPicker({
				dataJson: cityData,
				renderMode: true,
				search: false,
				autoSelected: false,
				onForbid: function() {
					console.log(this)
				}
			});

			// 省份选择的回调
			$('#city-picker-selector').on('choose-province.citypicker', function(event, tagert, values) {
				console.log(values);
			});

			// 城市选择的回调
			$('#city-picker-selector').on('choose-city.citypicker', function(event, tagert, values) {
				console.log(values);
			});

			// 城市选择的回调
			$('#city-picker-selector').on('choose-district.citypicker', function(event, tagert, values) {
				console.log(values);
			});

			//设置城市
			selector.setCityVal([{
				'id': '110000',
				'name': '北京市'
			}, {
				'id': '110100',
				'name': '北京市'
			}, {
				'id': '110108',
				'name': '海淀区'
			}]);

			//模拟城市-联动/搜索/键盘操作
			$('#city-picker-search').cityPicker({
				dataJson: cityData,
				renderMode: true,
				search: true,
				autoSelected: true,
				keyboard: true
			});

			// 省份选择的回调
			$('#city-picker-search').on('choose-province.citypicker', function(event, tagert, values) {
				console.log(values);
			});

			// 城市选择的回调
			$('#city-picker-search').on('choose-city.citypicker', function(event, tagert, values) {
				console.log(values);
			});

			// 城市选择的回调
			$('#city-picker-search').on('choose-district.citypicker', function(event, tagert, values) {
				console.log(values);
			});

			//原生城市-无联动
			var select = $('.city-picker-select').cityPicker({
				dataJson: cityData,
				renderMode: false,
				autoSelected: false
			});

			//设置城市
			select.setCityVal([{
				'id': '140000',
				'name': '山西省'
			}, {
				'id': '140100',
				'name': '太原市'
			}, {
				'id': '140105',
				'name': '小店区'
			}]);

		});
	</script>
</body>

</html>